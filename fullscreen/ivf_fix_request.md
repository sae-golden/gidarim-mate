# IVF ì•± - ìˆ˜ì • ìš”ì²­ 2ê°€ì§€

## 1. ì£¼ì‚¬ ë¶€ìœ„ ì„ íƒ UI ìˆ˜ì •

### í˜„ì¬ ë¬¸ì œ
- ì›í˜•ìœ¼ë¡œ í¼ì§„ 9ê°œ ì  í˜•íƒœ
- ì‹¤ì œ ë³µë¶€ ì£¼ì‚¬ëŠ” ë°°ê¼½ ê¸°ì¤€ ì¢Œ/ìš°ë¡œ ë‚˜ë‰¨

### ìˆ˜ì • ìš”ì²­
**ì¢Œ/ìš° ë²ˆê°ˆì•„ ë¡œí…Œì´ì…˜ ë°©ì‹ìœ¼ë¡œ ë³€ê²½**

```
ì™¼ìª½ â†’ ì˜¤ë¥¸ìª½ â†’ ì™¼ìª½ â†’ ì˜¤ë¥¸ìª½ (ë°˜ë³µ)
```

### ìƒˆë¡œìš´ UI
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’‰ ì£¼ì‚¬ ë¶€ìœ„ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”        [X]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  ğŸ’¡ ì–´ì œ: ì™¼ìª½                          â”‚
â”‚     ì¶”ì²œ: ì˜¤ë¥¸ìª½                        â”‚
â”‚                                         â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚     â”‚         â”‚   â”‚         â”‚          â”‚
â”‚     â”‚  ì™¼ìª½   â”‚ â— â”‚ â˜…ì˜¤ë¥¸ìª½ â”‚          â”‚
â”‚     â”‚         â”‚   â”‚         â”‚          â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                         â”‚
â”‚    â— ë°°ê¼½    â˜… ì¶”ì²œ (íƒ­í•˜ì—¬ ì„ íƒ)       â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     [ì·¨ì†Œ]              [ì €ì¥]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë¡œì§
```dart
String getRecommendedSide(String? lastSide) {
  if (lastSide == null || lastSide == 'ì˜¤ë¥¸ìª½') {
    return 'ì™¼ìª½';
  }
  return 'ì˜¤ë¥¸ìª½';
}
```

---

## 2. ì¹˜ë£Œ ë‹¨ê³„ ìƒíƒœ ìë™ ë³€ê²½

### í˜„ì¬ ë¬¸ì œ
- ë‚ ì§œë¥¼ ì…ë ¥í•´ë„ "ì˜ˆì •"ìœ¼ë¡œ í‘œì‹œë¨
- ì˜¤ëŠ˜ ë‚ ì§œì¸ë° "ì§„í–‰ì¤‘"ìœ¼ë¡œ ì•ˆ ë°”ë€œ

### ìˆ˜ì • ìš”ì²­
**ë‚ ì§œ ê¸°ì¤€ìœ¼ë¡œ ìƒíƒœ ìë™ íŒë‹¨**

| ì¡°ê±´ | ìƒíƒœ | ì•„ì´ì½˜ | ìƒ‰ìƒ |
|------|------|--------|------|
| ê²°ê³¼ ì…ë ¥ë¨ | ì™„ë£Œ | âœ… | ì´ˆë¡ |
| ë‚ ì§œ â‰¤ ì˜¤ëŠ˜ | ì§„í–‰ì¤‘ | â–¶ï¸ | ë³´ë¼ |
| ë‚ ì§œ > ì˜¤ëŠ˜ ë˜ëŠ” ì—†ìŒ | ì˜ˆì • | â—‹ | íšŒìƒ‰ |

### ë¡œì§
```dart
enum StageStatus {
  pending,     // ì˜ˆì •
  inProgress,  // ì§„í–‰ì¤‘
  completed,   // ì™„ë£Œ
}

StageStatus getStageStatus(TreatmentStage stage) {
  final today = DateTime.now();
  
  // 1. ê²°ê³¼ê°€ ì…ë ¥ë˜ì–´ ìˆìœ¼ë©´ â†’ ì™„ë£Œ
  if (stage.hasResult) {
    return StageStatus.completed;
  }
  
  // 2. ë‚ ì§œê°€ ì˜¤ëŠ˜ì´ê±°ë‚˜ ì˜¤ëŠ˜ ì´ì „ì´ë©´ â†’ ì§„í–‰ì¤‘
  if (stage.date != null) {
    final stageDate = DateTime(stage.date!.year, stage.date!.month, stage.date!.day);
    final todayDate = DateTime(today.year, today.month, today.day);
    
    if (stageDate.isBefore(todayDate) || stageDate.isAtSameMomentAs(todayDate)) {
      return StageStatus.inProgress;
    }
  }
  
  // 3. ê·¸ ì™¸ â†’ ì˜ˆì •
  return StageStatus.pending;
}
```

### UI í‘œì‹œ ì˜ˆì‹œ
```
ì´ì‹ ë‚ ì§œ = 2025.12.26 (ì˜¤ëŠ˜)
â†’ â–¶ï¸ ì´ì‹ (Transfer)
   2025.12.26 Â· ì§„í–‰ì¤‘

ì´ì‹ ë‚ ì§œ = 2025.12.30 (ë¯¸ë˜)  
â†’ â—‹ ì´ì‹ (Transfer)
   2025.12.30 ì˜ˆì • (D-4)

ì´ì‹ ë‚ ì§œ = 2025.12.20 + hCG ê²°ê³¼ ì…ë ¥ë¨
â†’ âœ… ì´ì‹ (Transfer)
   2025.12.20 Â· ì™„ë£Œ
```
